export function renderCatSideView(ctx, options = {
  flipX: false,
  frameIndex: 0,
  scale: 2,
  colors: [
    'rgba(0,0,0,0)',
    '#000000',
    '#a2998d',
    '#5c5751',
    '#413f3a',
    '#ecdcc9',
    '#f26060',
  ],
}) {
  const frames = [
    [
      `00000000000010001000`,
      `00000000000121012100`,
      `00000000001263136100`,
      `00011100012333333310`,
      `00122310012333333310`,
      `01231510013343334310`,
      `01310100013313531310`,
      `01310001113335653310`,
      `01341115534355555100`,
      `00133222333432221000`,
      `00133333333344411000`,
      `00133333333333241000`,
      `00133444444443310000`,
      `00134111111111410000`,
      `00131130001410131000`,
      `00121000001310012100`,
    ],
    [
      `00000000000010001000`,
      `00000000000121012100`,
      `00000000001263136100`,
      `00000000012333333310`,
      `00111000012333333310`,
      `01223100013343334310`,
      `12315100013313531310`,
      `13101001113335653310`,
      `13111115534355555100`,
      `01332222333432221000`,
      `01333333333344411000`,
      `01333333333333241000`,
      `11133334444433241100`,
      `23344411111143314300`,
      `11111100000013111100`,
      `00001310000012100000`,
    ],
    [
      `00000000000010001000`,
      `00000000000121012100`,
      `00000000001263136100`,
      `00011100012333333310`,
      `00122310012333333310`,
      `01231510013343334310`,
      `01310100013313531310`,
      `01310001113335653310`,
      `01341115534355555100`,
      `00133222333432221000`,
      `00133333333344411000`,
      `00133333333333231000`,
      `00143331144333210000`,
      `00014433211433110000`,
      `00141111100131141000`,
      `00131000000121013100`,
    ],
    [
      `00000000000010001000`,
      `00000000000121012100`,
      `00000000001263136100`,
      `00011100012333333310`,
      `00122310012333333310`,
      `01231510013343334310`,
      `01310100013313531310`,
      `01310001113335653310`,
      `01341115534355555100`,
      `00133222333432221000`,
      `00133333333344411000`,
      `00133333333333241000`,
      `00133444444443310000`,
      `00134111111111410000`,
      `00131130001410131000`,
      `00121000001310012100`,
    ],
  ]
  const frame = frames?.[options.frameIndex] ?? frames[0]
  ctx.fillStyle = 'rgba(0,0,0)'
  ctx.fillRect(0, 0, options.width, options.height)
  drawPixels(ctx, frame, {
    scale: options.scale,
    flipX: options.flipX,
    colors: options.colors,
    shiftY: options.heightShift,
  })
}

function drawPixels(ctx, pixels, { scale, colors, flipX, shiftY = 0 }) {
  for (let j = 0; j < pixels.length; j++) {
    for (let i = 0; i < pixels[j].length; i++) {
      const p = pixels[j][i];
      ctx.fillStyle = colors[p];
      const x = flipX ? (20 - 1 - i) * scale : i * scale
      const y = j * scale + (scale >= 2.2 ? shiftY / 2 : shiftY)
      ctx.fillRect(x, y, scale, scale);
    }
  }
}