<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS13K 2025: Meow & Shadow</title>
    <style>
        canvas { background: #ffffff; display:block; margin:0 auto; border:1px solid #000000; width:800px; height:400px; }
        .controls { text-align:center; margin-top:5px; font-size:26px;}
    </style>
</head>
<body>
<canvas id="game" width="800" height="400"></canvas>
<div class="controls">Move: A D or Left Right</div>
<div class="controls">Jump: W or Up</div>
<div class="controls">Attack or Poop: Space</div>
<div class="controls">Switch cat: Shift</div>
<script>
  var t=Object.defineProperty,e=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,i,a)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a,r=(t,e)=>{for(var i in e||(e={}))l.call(e,i)&&o(t,i,e[i]);if(a)for(var i of a(e))s.call(e,i)&&o(t,i,e[i]);return t},n=(t,a)=>e(t,i(a)),h=(t,e)=>{var i={};for(var o in t)l.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&a)for(var o of a(t))e.indexOf(o)<0&&s.call(t,o)&&(i[o]=t[o]);return i};function c(t,e,i){return Math.min(Math.max(t,i),e)}function d(t,e){let i=f(t),a=f(e);return!(t.radius&&i.width!=i.height||e.radius&&a.width!=a.height)&&([i,a]=[i,a].map(a=>((a==i?t:e).radius&&(a.radius=a.width/2,a.x+=a.radius,a.y+=a.radius),a)),t.radius&&e.radius?Math.hypot(i.x-a.x,i.y-a.y)<i.radius+a.radius:t.radius||e.radius?function(t,e){let{x:i,y:a,width:l,height:s}=f(e);do{i-=e.sx||0,a-=e.sy||0}while(e=e.parent);let o=t.x-Math.max(i,Math.min(t.x,i+l)),r=t.y-Math.max(a,Math.min(t.y,a+s));return o*o+r*r<t.radius*t.radius}(t.radius?i:a,t.radius?e:t):i.x<a.x+a.width&&i.x+i.width>a.x&&i.y<a.y+a.height&&i.y+i.height>a.y)}function f(t){let{x:e=0,y:i=0,width:a,height:l,radius:s}=t.world||t;return t.mapwidth&&(a=t.mapwidth,l=t.mapheight),s&&(a=2*s.x,l=2*s.y),t.anchor&&(e-=a*t.anchor.x,i-=l*t.anchor.y),a<0&&(e+=a,a*=-1),l<0&&(i+=l,l*=-1),{x:e,y:i,width:a,height:l}}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),e.credentials="use-credentials"===t.crossOrigin?"include":"anonymous"===t.crossOrigin?"omit":"same-origin",e}(t);fetch(t.href,e)}}();let m,g,u=()=>{},y={},p={get:(t,e)=>"_proxy"==e||u};function b(){return g}class w{constructor(t=0,e=0,i={}){null!=t.x?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e),i._c&&(this.clamp(i._a,i._b,i._d,i._e),this.x=t,this.y=e)}set(t){this.x=t.x,this.y=t.y}add(t){return new w(this.x+t.x,this.y+t.y,this)}subtract(t){return new w(this.x-t.x,this.y-t.y,this)}scale(t){return new w(this.x*t,this.y*t)}normalize(t=this.length()||1){return new w(this.x/t,this.y/t)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.hypot(this.x,this.y)}distance(t){return Math.hypot(this.x-t.x,this.y-t.y)}angle(t){return Math.acos(this.dot(t)/(this.length()*t.length()))}direction(){return Math.atan2(this.y,this.x)}clamp(t,e,i,a){this._c=!0,this._a=t,this._b=e,this._d=i,this._e=a}get x(){return this._x}get y(){return this._y}set x(t){this._x=this._c?c(this._a,this._d,t):t}set y(t){this._y=this._c?c(this._b,this._e,t):t}}function v(){return new w(...arguments)}class M{constructor(t){return this.init(t)}init(t={}){this.position=v(),this.velocity=v(),this.acceleration=v(),this.ttl=1/0,Object.assign(this,t)}update(t){this.advance(t)}advance(t){let e=this.acceleration;t&&(e=e.scale(t)),this.velocity=this.velocity.add(e);let i=this.velocity;t&&(i=i.scale(t)),this.position=this.position.add(i),this._pc(),this.ttl--}get dx(){return this.velocity.x}get dy(){return this.velocity.y}set dx(t){this.velocity.x=t}set dy(t){this.velocity.y=t}get ddx(){return this.acceleration.x}get ddy(){return this.acceleration.y}set ddx(t){this.acceleration.x=t}set ddy(t){this.acceleration.y=t}isAlive(){return this.ttl>0}_pc(){}}class x extends M{init(t={}){var e,i,a=t,{width:l=0,height:s=0,context:o=b(),render:n=this.draw,update:c=this.advance,children:d=[],anchor:f={x:0,y:0},opacity:m=1,rotation:g=0,drotation:u=0,ddrotation:p=0,scaleX:w=1,scaleY:v=1}=a,M=h(a,["width","height","context","render","update","children","anchor","opacity","rotation","drotation","ddrotation","scaleX","scaleY"]);this._c=[],super.init(r({width:l,height:s,context:o,anchor:f,opacity:m,rotation:g,drotation:u,ddrotation:p,scaleX:w,scaleY:v},M)),this._di=!0,this._uw(),this.addChild(d),this._rf=n,this._uf=c,i=()=>{null!=this.context||(this.context=b())},y[e="init"]=y[e]||[],y[e].push(i)}update(t){this._uf(t),this.children.map(e=>e.update&&e.update(t))}render(){let t=this.context;t.save(),(this.x||this.y)&&t.translate(this.x,this.y),this.rotation&&t.rotate(this.rotation),1==this.scaleX&&1==this.scaleY||t.scale(this.scaleX,this.scaleY);let e=this.width,i=this.height;this.radius&&(e=i=2*this.radius);let a=-e*this.anchor.x,l=-i*this.anchor.y;(a||l)&&t.translate(a,l),this.context.globalAlpha=this.opacity,this._rf(),(a||l)&&t.translate(-a,-l),this.children.map(t=>t.render&&t.render()),t.restore()}draw(){}_pc(){this._uw(),this.children.map(t=>t._pc())}get x(){return this.position.x}get y(){return this.position.y}set x(t){this.position.x=t,this._pc()}set y(t){this.position.y=t,this._pc()}get width(){return this._w}set width(t){this._w=t,this._pc()}get height(){return this._h}set height(t){this._h=t,this._pc()}_uw(){if(!this._di)return;let{_wx:t=0,_wy:e=0,_wo:i=1,_wrot:a=0,_wsx:l=1,_wsy:s=1}=this.parent||{};this._wx=this.x,this._wy=this.y,this._ww=this.width,this._wh=this.height,this.radius&&(this._wrx=this.radius,this._wry=this.radius),this._wo=i*this.opacity,this._wsx=l*this.scaleX,this._wsy=s*this.scaleY,this._wx=this._wx*l,this._wy=this._wy*s,this._ww=this.width*this._wsx,this._wh=this.height*this._wsy,this.radius&&(this._wrx=this.radius*this._wsx,this._wry=this.radius*this._wsy),this._wrot=a+this.rotation;let{x:o,y:r}=function(t,e){let i=Math.sin(e),a=Math.cos(e);return{x:t.x*a-t.y*i,y:t.x*i+t.y*a}}({x:this._wx,y:this._wy},a);this._wx=o,this._wy=r,this._wx+=t,this._wy+=e}get world(){return{x:this._wx,y:this._wy,width:this._ww,height:this._wh,radius:this.radius?{x:this._wrx,y:this._wry}:void 0,opacity:this._wo,rotation:this._wrot,scaleX:this._wsx,scaleY:this._wsy}}set children(t){this.removeChild(this._c),this.addChild(t)}get children(){return this._c}addChild(...t){t.flat().map(t=>{this.children.push(t),t.parent=this,t._pc=t._pc||u,t._pc()})}removeChild(...t){t.flat().map(t=>{(function(t,e){let i=t.indexOf(e);if(-1!=i)return t.splice(i,1),!0})(this.children,t)&&(t.parent=null,t._pc())})}get radius(){return this._r}set radius(t){this._r=t,this._pc()}get opacity(){return this._opa}set opacity(t){this._opa=c(0,1,t),this._pc()}get rotation(){return this._rot}set rotation(t){this._rot=t,this._pc()}advance(t){super.advance(t),this.drotation+=this.ddrotation,this.rotation+=this.drotation}setScale(t,e=t){this.scaleX=t,this.scaleY=e}get scaleX(){return this._scx}set scaleX(t){this._scx=t,this._pc()}get scaleY(){return this._scy}set scaleY(t){this._scy=t,this._pc()}}class S extends x{init(t={}){var e=t,{image:i,width:a=(i?i.width:void 0),height:l=(i?i.height:void 0)}=e,s=h(e,["image","width","height"]);super.init(r({image:i,width:a,height:l},s))}get animations(){return this._a}set animations(t){let e,i;for(e in this._a={},t)this._a[e]=t[e].clone(),i=i||this._a[e];this.currentAnimation=i,this.width=this.width||i.width,this.height=this.height||i.height}playAnimation(t){var e;null==(e=this.currentAnimation)||e.stop(),this.currentAnimation=this.animations[t],this.currentAnimation.start()}advance(t){var e;super.advance(t),null==(e=this.currentAnimation)||e.update(t)}draw(){if(this.image&&this.context.drawImage(this.image,0,0,this.image.width,this.image.height),this.currentAnimation&&this.currentAnimation.render({x:0,y:0,width:this.width,height:this.height,context:this.context}),this.color){if(this.context.fillStyle=this.color,this.radius)return this.context.beginPath(),this.context.arc(this.radius,this.radius,this.radius,0,2*Math.PI),void this.context.fill();this.context.fillRect(0,0,this.width,this.height)}}}function T(){return new S(...arguments)}const E={MENU:"m",LEVEL1:"l1",LEVEL2:"l2",LEVEL3:"l3",GAMEOVER:"go",VICTORYWHITE:"vw",VICTORYBLACK:"vb"},k=1500;function C(t,e,{scale:i,colors:a,flipX:l,shiftY:s=0}){for(let o=0;o<e.length;o++)for(let r=0;r<e[o].length;r++)t.fillStyle=a[e[o][r]],t.fillRect(l?(19-r)*i:r*i,o*i+(i>=2.2?s/2:s),i,i)}function X(t,e,i,a,l,s){t.fillStyle="#000",t.fillRect(e-1,i-1,a+2,l+2);const o=a/10,r=Math.ceil(10*s);for(let n=0;n<10;n++){const a=e+n*o;if(n<r){let e;e=s>.7?"#22FF22":s>.3?"#FFFF00":"#FF3333",t.fillStyle=e,t.fillRect(a,i,o-1,l),t.fillStyle="#FFFFFF",t.fillRect(a,i,o-1,2)}else t.fillStyle="#444",t.fillRect(a,i,o-1,l)}t.strokeStyle="#888",t.lineWidth=1,t.strokeRect(e-1,i-1,a+2,l+2)}function O(t,e={pose:"idle",flipX:!1,frameIndex:0,scale:2,colors:["rgba(0,0,0,0)","#000000","#a2998d","#5c5751","#413f3a","#ecdcc9","#f26060"]}){var i,a,l,s,o;const r=[["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","013333333333324100","013344444444331000","013411111111141000","013113000141013100","012100000131001210"],["0000000000001000100","0000000000012101210","0000000000126313610","0000000001233333331","0011100001233333331","0122310001334333431","1231510001331353131","1310100111333565331","1311111553435555510","0133222233343222100","0133333333334441100","0133333333333324100","1113333444443324110","2334441111114331430","1111110000001311110","0000131000001210000"],["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","013333333333323100","014333114433321000","001443321143311000","014111110013114100","013100000012101310"],["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","013333333333324100","013344444444331000","013411111111141000","013113000141013100","012100000131001210"]],n=[["000000000001000100","000000000012101210","000000000126313610","001110001233333331","012231001233333331","123151001334333431","131010001331353131","131000111333565331","134111553435555510","013322233343222100","013333333334441100","014333333333323100","001334444433323100","001341111143411000","001314100013141000","001213100012131000"]],h=[["000000000001000100","000000000012101210","001110000126313610","012231001233333331","123141001233333331","131010001332333231","131000111331353131","134111441333565331","013322233435555510","013333333343222100","113344443334444110","233411111111133320","111100000000011110"]],c=[["0000000000000001000100","0000000000000012101210","0000000000000126313610","0000000000001233333331","0000000000001233333331","0000000000001334333431","1100000000001331353131","5211000000001333565331","1123111001113435555510","0011434112553343222100","0000143323233334441100","0000013333333333324100","0000014333444433324100","0000001434111143414100","0000000134100013141000","0000000121310012131000"]],d=[["00000000000000000000","00000000000100010000","00000000001210121000","00000000012631361000","00000000123333333100","00111000123333333100","01223100133233323100","12314100133135313100","13101001133356533100","13311115343555551000","01233222334322241107","00133333333444114317","00143334444333231107","00013341111434110070","00013411000131000700","00012131000121077000"],["00000000000000000000","00000000000100010000","00000000001210121000","00000000012631361000","00000000123333333100","00111000123333333100","01223100133233323100","12314100133135313100","13101001133356533100","13311115343555551000","01233222334322241107","00133333333444114317","00143334444333231107","00013341111434110070","00013411000131000700","00012131000121077000"]];let f;f="idle"===e.pose?null!=(i=null==n?void 0:n[e.frameIndex])?i:n[0]:"jump"===e.pose?null!=(a=null==h?void 0:h[e.frameIndex])?a:h[0]:"attack"===e.pose?null!=(l=null==d?void 0:d[e.frameIndex])?l:d[0]:"poop"===e.pose?null!=(s=null==c?void 0:c[e.frameIndex])?s:c[0]:null!=(o=null==r?void 0:r[e.frameIndex])?o:r[0],t.fillStyle="rgba(0,0,0)",t.fillRect(0,0,e.width,e.height),C(t,f,{scale:e.scale,flipX:e.flipX,colors:e.colors,shiftY:e.heightShift})}function L(t,e,i={}){const{attackFrames:a=2,frameDelay:l=.07}=i;t.dt+=e,t.dt>l&&(t.frame=(t.frame+1)%(t.isAttacking?a:t.framesLength),t.dt=0),t.dvl=Math.max(0,t.dvl-t.dt)}function W(t,e,i,a,l=-100){i.enemies.push(a({canDie:!0,facingRight:Math.random()>.5,color:"brown",dt:0,health:5,moveSpeed:50,height:15,collisionDamage:10,isAlive:!0,isDead:!1,isMonster:!0,jumpTimer:0,onGround:!1,size:1,type:"E",velocityX:0,velocityY:0,width:15,decisionTimer:0,decisionInterval:5,frame:0,framesLength:2,sizeMultiplier:2,isVisible:!0,lifeSpan:l,x:t,y:e,render(){R(this,{frameIndex:this.frame,scale:this.sizeMultiplier,flipX:!this.facingRight})},update:function(t){this.isAlive&&(L(this,t),this.onGround||(this.velocityY+=k*t),N(this,t),this.x+=this.velocityX*t,this.y+=this.velocityY*t)}}))}function P(t,e,i,a,l=-100){i.enemies.push(a({canDie:!0,color:"brown",createdAt:Date.now(),facingRight:Math.random()>.5,collisionDamage:15,dt:0,frame:0,framesLength:2,health:5,moveSpeed:20,height:15,isAlive:!0,isDead:!1,isMonster:!0,jumpTimer:0,onGround:!1,size:1,transformAt:Date.now()+5e3,type:"P",velocityX:0,velocityY:0,width:15,decisionTimer:0,decisionInterval:5,lifeSpan:l,x:t,y:e,render(){_(this)},update(t){this.onGround||(this.velocityY+=780*t),this.y+=this.velocityY*t,this.x+=this.velocityX*t,this.onGround=!1,this.lifeSpan-=t,this.lifeSpan<=0&&l>-100&&(this.isDead=!0,this.isAlive=!1),this.isMonster?N(this,t):(this.dt+=t,this.dt>.07&&(this.frame=(this.frame+1)%this.framesLength,this.dt=0),Date.now()>=this.transformAt&&(this.isMonster=!0,this.velocityX=this.moveSpeed))}}))}function A(t,e,i,a,l=-100){i.enemies.push(a({canDie:!0,color:"brown",createdAt:Date.now(),facingRight:Math.random()>.5,collisionDamage:3,dt:0,frame:0,framesLength:2,health:5,moveSpeed:20,height:15,isAlive:!0,isDead:!1,isMonster:!1,jumpTimer:0,onGround:!1,size:1,transformAt:Date.now()+5e3,type:"P",velocityX:0,velocityY:0,width:15,decisionTimer:0,decisionInterval:5,lifeSpan:l,x:t,y:e,render(){!function(t,e,i,a={frameIndex:0,scale:1,flipX:!1}){if(a.isMonster){const e=[{width:20,height:8},{width:13,height:6},{width:4,height:6},{width:-12,height:-5}],a=["#8B5A2B","#7c4303","#bc8000"];let l=i;for(let i=0;i<e.length;i++){const s=e[i],o=l-s.height;t.fillStyle=a[i],t.fillRect(0+5*i,o,s.width,s.height),t.strokeStyle="rgba(0,0,0,0.3)",t.lineWidth=1,t.strokeRect(.5+5*i,o+.5,s.width-1,s.height-1),l=o}return}C(t,[["00000000000000000000","00002200002200000000","00000200002200000000","00000000000000000020","02000022000011000020","02000000000111100000","00000000011111000000","00000001111111100000","00000000111111100000","00000011111111000000","00000111111111110000","00001111111111110000","00001111111111100000","00011111111111111100","01111111111111111110","11111111111111111111"],["00000000000000000000","00000022000000000000","02000022000002200000","00000000000000000000","00002000000011000000","00002000000111100000","00000000011111000000","00000001111111100000","00000000111111100000","00000011111111000000","00000111111111110000","00001111111111110000","00001111111111100000","00011111111111111100","01111111111111111110","11111111111111111111"]][a.frameIndex],{scale:1,colors:["rgba(255,255,255,0)","#8B4513","#000000","#ff2e9d","rgb(133,73,0)"],flipX:a.flipX})}(this.context,0,this.height,{isMonster:this.isMonster,frameIndex:this.frame,scale:this.size,flipX:"left"!==this.direction})},update(t){this.onGround||(this.velocityY+=780*t),this.y+=this.velocityY*t,this.x+=this.velocityX*t,this.onGround=!1,this.lifeSpan-=t,this.lifeSpan<=0&&l>-100&&(this.isDead=!0,this.isAlive=!1),this.isMonster?N(this,t):(this.dt+=t,this.dt>.07&&(this.frame=(this.frame+1)%this.framesLength,this.dt=0),Date.now()>=this.transformAt&&(this.isMonster=!0,this.velocityX=this.moveSpeed))}}))}function N(t,e,i=!0){if(t.decisionTimer-=e,t.decisionTimer<=0){t.decisionTimer=t.decisionInterval;const e=Math.floor(4*Math.random());0===e?t.velocityX=0:1===e?(t.velocityX=-t.moveSpeed,t.facingRight=!1):2===e?(t.velocityX=t.moveSpeed,t.facingRight=!0):3===e&&t.onGround&&i&&(t.velocityY=t.jumpForce,t.onGround=!1)}return t}function F(t,{baseColor:e="#555",frameColor:i="#b1b1b1",buttonColor:a="#0f0"}={}){const{context:l,width:s,height:o}=t;l.fillStyle=e,l.fillRect(0,o-8,s,10),l.fillStyle=i,l.fillRect(0,o-13,s,5),l.fillStyle="#222",l.fillRect(0,o-19,.2*s,.3*o),l.fillStyle=a,l.beginPath(),l.arc(13,o-15,.15*o,0,2*Math.PI),l.fill()}function _(t,{bodyColor:e="#444",lidColor:i="#333",highlightColor:a="#555",scale:l=1}={}){const{context:s,width:o,height:r}=t,n=o,h=r;s.save(),s.translate(n/2,h/2),s.scale(l,l),s.translate(-n/2,-h/2),s.fillStyle=e,s.fillRect(.1*n,.3*h,.8*n,.7*h),s.fillStyle=i,s.fillRect(.05*n,.2*h,.9*n,.1*h),s.fillRect(.1*n,.9*h,.8*n,.1*h),s.fillStyle=a;const c=[[.25*n,.3*h,.05*n,.7*h],[.475*n,.3*h,.05*n,.7*h],[.7*n,.3*h,.05*n,.7*h]];for(const[d,f,m,g]of c)s.fillRect(d,f,m,g);s.fillStyle="#111",s.fillRect(.3*n,.22*h,.4*n,.06*h),s.fillStyle="rgba(255,255,255,0.1)",s.fillRect(.1*n,.3*h,.8*n,.05*h),s.restore()}function R(t,e={}){const{context:i}=t,{frameIndex:a=0,scale:l=1,flipX:s=!1}=e;3===l&&i.translate(0,-20),2===l&&i.translate(0,-10),C(i,[["00000000000000000000000110000000","00000000000000001111001771000000","00000000000000113333111753111110","00000000000011338888332533333351","00000000111133888888888888188810","00000011756188888888888888881100","00000177111128888288888881110000","00001711000018882222288810000000","00017100000018821111188210000000","01171000000018211100018110000000","17710000000015116100001510000000","01100000000015516100001571000000","00000000000001111000000110000000"],["00000000000000000000000000000000","00000000000000011110000110000000","00000000000011133331101771000000","00000000111133388883311753111110","00000011756188888888832533333351","00000177111128888888888888888810","00001711000018882888888888881100","00017100000018822222888881110000","01171000000018211111188210000000","17710000000182101100182111000000","01100000001751001611511166100000","00000000001510001661551016100000","00000000000100000110110001000000"]][a],{scale:l,colors:["rgba(255,255,255,0)","#000000","#292929","#4d4d4d","rgba(133,73,0,0)","#9c6974","#6e4a52","#c08d98","#3c3c3c"],flipX:s})}const V={Y:"yellow",A:"blue",B:"purple",C:"black",D:"darkred",E:"red",F:"darkgreen",L:"yellow",G:"white",I:"pink",O:"lightblue",P:"brown",R:"saddlebrown",H:"black",W:"brown",X:"gray",c:"sienna",Q:"green",f:"darkgreen"},j={bodyColor:"rgb(150,236,255)",coverColor:"rgb(115,183,197)"},I={bodyColor:"rgb(167,204,213)",coverColor:"rgb(53,79,87)"},D={bodyColor:"rgb(180, 180, 180)",coverColor:"rgb(142,142,142)",injectColor:"rgb(101,101,101)"},Y={bodyColor:"rgb(180, 180, 180)",coverColor:"rgb(170, 120, 70)",injectColor:"rgb(101,101,101)"},z={bodyColor:"rgb(37,37,37)",coverColor:"rgb(117,115,63)",injectColor:"rgb(2,174,2)"},G={bodyColor:"rgb(161,161,161)",coverColor:"rgb(175,175,175)",injectColor:"rgb(255,255,255)"},B={bodyColor:"rgb(80,80,80)",coverColor:"rgb(143,98,7)",injectColor:"rgb(255,255,255)"},Q={[E.LEVEL1]:{A:{fishColor:"rgb(161,161,161)"},a:{fishColor:"rgb(161,161,161)"},B:{baseColor:"#555",frameColor:"#b1b1b1",buttonColor:"#0f0"},F:Y,f:Y,M:n(r({},D),{closingColor:"rgb(142,142,142)",rotation:1}),m:n(r({},D),{rotation:2}),N:n(r({},D),{rotation:1}),T:{bodyColor:"rgba(251,108,55,0)",closingColor:"rgb(188,128,0)",coverColor:"rgb(188,128,0)",rotation:2},n:{bodyColor:"rgb(180, 180, 180)",injectColor:"rgb(101,101,101)"},X:{bodyColor:"rgba(188,128,0,0.53)"},Y:{bodyColor:"rgba(40,205,255,0.88)",coverColor:"rgb(255,247,46)",rotation:1},W:D,w:D,O:j,o:j},[E.LEVEL2]:{A:{fishColor:"rgb(255,227,53)"},a:{fishColor:"rgb(255,227,53)"},F:z,f:z,M:{bodyColor:"rgb(128,128,128)",coverColor:"rgb(62,62,62)",rotation:1},m:{bodyColor:"rgb(128,128,128)",coverColor:"rgb(62,62,62)",rotation:3},N:{bodyColor:"rgb(128,128,128)",coverColor:"rgb(62,62,62)",rotation:1},n:{bodyColor:"rgb(128,128,128)"},X:{bodyColor:"rgb(0,149,255)"},W:{bodyColor:"rgb(128,128,128)",coverColor:"rgb(62,62,62)",rotation:2},w:{bodyColor:"rgb(128,128,128)",coverColor:"rgb(62,62,62)"},O:{bodyColor:"rgb(150,236,255)"},o:{bodyColor:"rgb(150,236,255)"}},[E.LEVEL3]:{A:{fishColor:"rgb(251,108,55)"},a:{fishColor:"rgb(251,108,55)"},B:{flipX:!0},F:G,f:G,d:{potColor:"rgb(161,161,161)",trunkColor:"rgb(251,108,55)",foliageColor:"rgb(255,222,0)"},M:n(r({},B),{closingColor:"rgb(142,142,142)",rotation:1}),m:n(r({},B),{rotation:2}),N:n(r({},B),{rotation:1}),T:{bodyColor:"rgba(251,108,55,0)",coverColor:"rgba(147,147,147,0.49)",rotation:2},n:{bodyColor:"rgb(80,80,80)",injectColor:"rgb(255,255,255)"},X:{bodyColor:"rgba(236,184,11,0.55)",injectColor:"rgb(255,255,255)"},Y:{bodyColor:"rgb(2,174,2)"},W:B,w:n(r({},B),{rotation:2}),O:I,o:I,Q:{shadeColor:"#FFD700",standColor:"#333",addGlow:!0,rotation:0},q:{shadeColor:"#FFD700",addGlow:!0,rotation:2}}},q={},K={pressed:{},released:{}};function H(t,e,i){"pressed"!==e&&"released"!==e||(K[e][t]||(K[e][t]=[]),K[e][t].push(i))}function J(t,e,i){if(!K[e][t])return;const a=K[e][t].indexOf(i);-1!==a&&K[e][t].splice(a,1)}function U(t){return!!q[t]}const $={[E.LEVEL1]:["C200","C200","N.21X.51a.5X.68W.13M.18a.2X.13N","N.21X.57X.24A.43W.13M.21X.13N","N.16 a.3NF4f34.12f.5f28.42W.13M.10f2.9F.13N","N.3F2.11F2f3N.34F4f4.11f.3f.25f14.29m15.10N2.P3E2.3N.13N","N.21X.37F5f4.11fF11.28f13X5.8a2.16X4f17N.13N","NB.16.4X3.7Aa.35f4.7f.51X6f8.17a.16d.4N.13N","N.5Q.15X3.11D.7E.3P.3Q.4P.3D.12f7.7Dd.2T.dD.14E.5P.5E.6d.2X.13f14.6Q.12T.5N.2P.10N","nF23X4FX2F51.4F47.4F3.3F4.12F32.8N","nm22X8m51.4m47.4m3.3m4.15m28N.8N","N.28f2.154N.13N","N.23f2.107f2.12F4X4F4.26N.9d.3N","N.25f.108f2.22F7.19N.3f10N","N.26f.4f2.103f2.26W.19N.13N","N.2..GH.5a.23f.103f2.23WF2.17N.13N","N.10F.18f2.5f.103f2.18m4W.19Nf10.3N","N.3dY.5M.15Q.44D.39d.32Q.34Q.4N.11Y2N","N.3T.D.4M.D.D.4d.6T.d.15Dd.Q.13E.E.E.5TQ.22E.6E.6d.T.23Dd.7T.13E.21T.3N.6D.4Y2N","F200"],[E.LEVEL2]:["C200","C200",".165X.9MO2mM.a.5X9.4",".2Q.50F.49A.54a.6X.9MO2mM.7X9.4","w4N.56A.3F3.F.30X2.3mF9M.30f2.5f2.10X.9MO2mM.7X9F4","nW2nN.45F.8F.F.F.6A.23A.F.3X2.3mnWO2mO2mwM.19a.3f2.3f.11f2.3f4Mf7.2MO2mM.7X9nW2n","MO2mN.49F.15F.4X.2A.2X.2FX5F.9X2.2FmnWO2mO2mwM.15f2.4f.26mM.9nw2n2F4.3F4X5MO2m","MO2mN.12A.57X.5X.12A.5X2.3mnWO2mO2mwM.48mM.9Wn2Wn2WnM.3nWnMX5MO2m","nw2nN.45F.24F.5F.18X2.3mnWO2mO2mwM.36f2.10mM.3f6WnMOmMOmM.3MOmMX5Ww2n","nW2nN.18Q.4P.4Q.25A.40w15M.10f2.3a.32mM.3mn5Wn2wn2wnM.2fnwnM.8m","MO2mN.16F15.17F.5F.5F.28X2.4mnOmOmOmOmOmOmwM.15f2.11a.19mM.3mn5Wn2Wn2WnM.3nWnM.3a.4m","MO2mN.16nW2n2W2n.2nW2nN.58X2.4mnOmOmOmOmOmOmwM.8F2.12f2.4f2.11F2.5mM.9WnMOmMOmM.3MOmM.8m","nw2nN.16MO2mMO2m.2MO2mN.33F2.3A.19X2.4mF14M.37a.10mM.9Wn2wn2wnMf.2nwnM.2f2.3Qm","n4N.16MO2mMO2m.2MO2mN.38F2.18X2.2Q.mw14MF3.14F2.12F2.4f2.7F2mM.9X.11nWnM.7fm","nNHG.12F4.nw2n2w2n.2nw2nN.16Q.3A.3Q.33mw5n2OnOnOnOnOnW2nM.48mM.9X.2E.P.2P.3MOmM.8m","nN.12F2nW2n.nW2n2W2n.2nW2nN.15F11.32mnW3n2W2n2W4n2MO2mM.31a.9f2.B.3mM.9w12nwnM.7Qm","n2F3.9mnMO2m.MO2mMO2m.2MO2mN.4P.E.3E.4N.3mN.3mN.4E.2A.P.E.2F2.P.A.E.2P.E.5mNO3nMO2mnO2mO2nMO2mM.10Q2.12Q2.10Q2.10mM.4a.2f2Wn2W2n2Wn2Wn2WnM.3A.3fm","n4N.9mnMO2m.MO2mMO2m.2MO2mN.15N.3mN.3mN.32mNO3nMw2mnO2mO2nMO2mM.10mM.5B.6mM.10mM.10mMf2.7WnMO2mMOmMOmMOmM.8m","n4N.7Q.mn2w2n.nw2n2w2n.2nw2nN.Q.D.4Q.4D.Nd2.mNd2.mN.D.5mM.3D.11Q.3d.3mnw3n12MO2mM.10mM.12mM.10mM.10mM.9Wn2w2n2wn2wn2wnMF2X4F2m","F94mn17w2nMn77Y4n3"],[E.LEVEL3]:["C199","C199","N.5T.N.10q.12A.2X7.6q.5T.6q.11q.9X2.q.4M.3T.23qT.18q.13T.5q.18Mf.8X5F3X.m","N.HG.2T.N.26X7.12T.9A.4X3.7X8.4M.3T.24T.32T.24Mf.8X.X.XI.YX.m","N.5T.N.9W3.20W.12T.22X10WX3M.3T.2N14.8T.32T.24Mf.6a.X.X.X.2YX.m","NF4.T.N.10T.5M.3W.6W2.3N.4q.7T.8W2.10X2.6X2N3.3M.3T.2NX12N.7T2.32T.24Mf.8X3Y5X.m","N.2q.2T.N.2W2.5W2.5M.15W9.4T.13W2.5W2.3d.2W6.2M.3T.2W14.7T2.5d.26T.24X.f2.6f4X5.m","N.5T.N.9w2.5M.4W.10W.7W.4T.18E2.5W5XW3.2MW2.T.8q.T.4X.7T.2F23.8T.20a.3X.3f2.9q.4m","N.3A.T.N.16M.14W2.A.5W.4T.13Q.2X9W5XW3.2M.3T.10T.4X.7T.5q.15q.11T.19f2.3X.5f2.12m","N.5T.N.5W2.9M.5W.9W.X.5W.4T.9W8X9W4XW3.2M.3T.6d.3T.4W.7T.26F2.5T.4F2.18M.5T.f7.5m","N.24M.Q.6W2.5W.5X2W.4T.8dW.3q.3W13XW3.2M.3T.2W14.6T.4T.8A.20T.23fM.5T.2f.10m","N.22W5.13WX2.5W.4T.4E2.2W3.8T.6TW6.3M.3T.2WX12W.6T.4T.2W12.13F2T.24M.5T.2f.10m","N.19W3.A.TW.2d.3E.P.4W.7W.4T.Q.6W2.3A.5T.6T.2q.6M.3T.W15.6T.F2.T.2Wn10WF2.33f2.3M.5T.2f.5f5m","N.T.3T.11W3.5W15.5X2WnW15.9T.6T.8X3.2T.W15.6T.4TW2n11W.28TF2.9M.5T.2f.10m","N.T.3T.P2.Q.d.2W2nN.6TX15.6X2.3X2.2T.2X2.8X7.6X2.3X5.2T.10q.T.9T.4T.Wn11W.5F2.11A.9T.10fM.5T.2f3.8m","N.T.3T.W8n3N.6TX15.2d.3T.8T.2T.3P2.6X7.6X2.2X4.2T.2d.9T.8W2.4TW14.28T.11M.5T.13m","N.T.3T.X8n4W83.5T.2W.14X12.11F2.12F2.T.6f2.3M.5T.8f5m","NW2.3T.X8.8q.T.14q.6T.8T.qT.16qT.18qT.9T.W2.8A.5X12.28T.11M.5T.8n5m","N.T.3T.X8.10T.6d.4E.2E.2E.3T.E.3E.5T.5P5dP6T.19T.9T.W2.13dX12.d.8Q.6B.2d.7T.Q.8fM.5T.6n7m","nW185n12m"]};function Z(t){if(t.sizeMultiplier<t.maxSizeMultiplier){const e=t.y+t.height;t.sizeMultiplier=Math.min(t.maxSizeMultiplier,t.sizeMultiplier+.5),t.width=t.originalWidth*t.sizeMultiplier,t.height=t.originalHeight*t.sizeMultiplier,t.y=e-t.height,t.jumpForce=t.originalJumpForce*(1/(1+.5*(t.sizeMultiplier-1))),t.moveSpeed=t.originalMoveSpeed*(1/(1+.4*(t.sizeMultiplier-1)))}}const tt={activeCat:"white",white:{lives:10,size:1},black:{lives:10,size:1}};const et={currentState:E.MENU,nextLevel:E.MENU,currentlyPlayingTrack:null,musicNode:null,musicEnabled:!1,paused:!1,previousMusicEnabled:!1,msl:{},camera:{x:0,y:0,width:800,height:400,levelBounds:{minX:0,maxX:0,minY:0,maxY:0}},input:{space:!1}};function it(t,e,i,a={}){if([E.LEVEL1,E.LEVEL2,E.LEVEL3].includes(t))return t!==E.LEVEL1&&(e.gameObjects.backgrounds.length=0,e.gameObjects.obstacles.length=0,e.gameObjects.collectables.length=0,e.gameObjects.enemies.length=0,e.gameObjects.effects.length=0,e.gameObjects.white=null,e.gameObjects.black=null),e.gameObjects={black:null,white:null,exit:null,start:null,keyboard:{},backgrounds:{},level:{},obstacles:[],collectables:[],enemies:[],effects:[]},t===E.LEVEL1?e.gameObjects.backgrounds=a[0]:t===E.LEVEL2?e.gameObjects.backgrounds=a[1]:t===E.LEVEL3&&(e.gameObjects.backgrounds=a[2]),function({selectedLevel:t,gameStates:e,kontra:i}){const{Sprite:a,canvas:l}=i,s={level:{levelWidth:5*l.width,levelHeight:l.height}};var o;return Object.assign(e.gameObjects,function({selectedLevel:t,gameObjects:e,levelMap:i,Sprite:a,tileSize:l=20}){const s={B:{[E.LEVEL1]:F,[E.LEVEL2]:_,[E.LEVEL3]:R},E:{[E.LEVEL1]:_,[E.LEVEL2]:_,[E.LEVEL3]:R}},o={[E.LEVEL1]:A,[E.LEVEL2]:P,[E.LEVEL3]:W},h={[E.LEVEL1]:{trashCooldown:10,canJump:!0,onGround:!1},[E.LEVEL2]:{trashCooldown:5,canJump:!0,onGround:!1},[E.LEVEL3]:{width:32,canJump:!1,height:13,sizeMultiplier:3,frame:0,framesLength:2,isAttacking:!1,trashCooldown:5}};return i.forEach((i,c)=>{[...i].forEach((i,d)=>{var f;if("."===i)return;let m={x:d*l,y:c*l,width:l,height:l,color:null!=(f=null==V?void 0:V[i])?f:"gray",type:i,isVisible:!["f","a"].includes(i),collides:["W","M","m","N","n","w","F","C","Y","f","O","o","X"].includes(i)};const g=n(r({},m),{dvl:0,dt:0,frame:0,facingRight:!0,framesLength:4,health:100,height:32,isJumping:!0,isMoving:!1,originalHeight:32,x:d*l,y:c*l,width:36,velocityY:0,originalWidth:36,originalMoveSpeed:200,moveSpeed:200,onGround:!1});if("I"===i&&(e.pink=a(n(r({},g),{sizeMultiplier:1,decisionTimer:0,decisionInterval:2,moveSpeed:50,velocityX:50,onGround:!0,isJumping:!1,update(t){L(this,t),this.decisionTimer-=t,this.decisionTimer<=0&&(this.decisionTimer=this.decisionInterval,this.isMoving=Math.random()<=.3,this.facingRight=!this.facingRight)},render(){let t;t=this.isMoving?"walk":"idle",O(this.context,{pose:t,flipX:!this.facingRight,frameIndex:this.frame,scale:this.sizeMultiplier+1,width:this.width,heightShift:this.height-this.originalHeight,colors:["rgba(0,0,0,0)","#000000","#fafafa","#ffbbdc","#7a7a7a","#ecdcc9","#f26060"]})}}))),"G"===i&&(e.white=a(n(r({},g),{attackDamage:0,jumpForce:-450,isPooping:!1,maxSizeMultiplier:2,originalJumpForce:-450,sizeMultiplier:1,update(t){L(this,t),this.sizeMultiplier>1.5&&(this.width=16*(1+this.sizeMultiplier),this.height=18*(1+this.sizeMultiplier)+7.75),1.5===this.sizeMultiplier&&(this.width=16*(1+this.sizeMultiplier),this.height=18*(1+this.sizeMultiplier))},render(){let t;t=this.isJumping?"jump":this.isMoving&&!this.isJumping?"walk":this.isPooping?"poop":"idle",O(this.context,{pose:t,flipX:!this.facingRight,frameIndex:this.frame,scale:this.sizeMultiplier+1,width:this.width,heightShift:this.height-this.originalHeight,colors:["rgba(0,0,0,0)","#000000","#ececec","#cfcfcf","#7a7a7a","#ecdcc9","#f26060"]})}}))),"H"===i&&(e.black=a(n(r({},g),{attackCooldown:.5,attackCooldownTimer:0,attackDamage:10,attackDuration:.03,attackMultiplier:1,attackRange:15,attackTimer:0,canAttack:!0,isAttacking:!1,jumpForce:-550,maxAttackMultiplier:3,originalAttackRange:15,update(t){L(this,t)},render(){let t;t=this.isJumping?"jump":this.isMoving&&!this.isJumping?"walk":this.isAttacking?"attack":"idle",O(this.context,{pose:t,flipX:!this.facingRight,frameIndex:this.frame,scale:2,width:this.width,colors:["rgba(0,0,0,0)","#000000","#a2998d","#5c5751","#413f3a","#ecdcc9","#f26060","rgba(255,255,255,1)"]})}}))),["W","M","m","N","n","w","F","f","O","o","X","Y","T"].includes(i)&&(m.render=function(){!function(t,e,i,a={}){const{bodyColor:l="rgb(180,180,180)",coverColor:s,injectColor:o,closingColor:r,rotation:n=0}=a;if(t.save(),n&&(t.translate(e/2,i/2),t.rotate(Math.PI/2*(n%4)),t.translate(-e/2,-i/2)),t.fillStyle=l,t.fillRect(0,0,e,i),s&&(t.fillStyle=s,t.fillRect(0,0,e,7),r&&(t.fillStyle=r,t.fillRect(0,i-7,e,7))),o){t.fillStyle=o;const a=e/4,l=i/2,s=i/15,r=i/4;for(let i=0;i<2;i++)for(let o=0;o<2;o++)t.fillRect(e/2+(i?1:-1)*a,l+(o?r:-s),1,1)}t.restore()}(this.context,this.width,this.height,r({},Q[t][m.type]))},e.obstacles.push(a(m))),["L","c","T","D","O","R","Q","d","q"].includes(i)&&(m.width=40,m.height=40,m.y=c*l-l+5,["q","Q"].includes(i)&&(m.render=function(){var e;!function(t,e,i,a={}){const{shadeColor:l="#FFD700",standColor:s,addGlow:o=!0,rotation:r=0}=a;t.save(),t.translate(e/2,i/2),r&&t.rotate(Math.PI/2*(r%4));const n=.8*i,h=.05*e,c=2===r?-7:-n/2,d=c+.15*i;if(o){const a=t.createRadialGradient(0,d,5,0,d,e);a.addColorStop(0,"rgba(255,255,200,0.6)"),a.addColorStop(1,"rgba(255,255,200,0)"),t.fillStyle=a,t.beginPath(),t.ellipse(0,c+.2*i,.9*e,.7*i,0,0,2*Math.PI),t.fill()}s&&(t.fillStyle=s,t.beginPath(),t.rect(-h/2,c,h,n),t.fill(),t.strokeStyle="rgb(246,255,167)",t.lineWidth=2,t.stroke());const f=.6*e,m=.3*i,g=.4*f;t.fillStyle=l,t.beginPath(),t.moveTo(-f/2,c),t.lineTo(f/2,c),t.lineTo(g,c+m),t.lineTo(-g,c+m),t.closePath(),t.fill(),t.strokeStyle="rgb(246,255,167)",t.stroke(),t.restore()}(this.context,this.width,this.height,r({},null==(e=Q[t])?void 0:e[m.type]))}),["d","D"].includes(i)&&(m.render=function(){var e;!function(t,e,i,a={}){const l="palm"===a.type,s=(null==a?void 0:a.potColor)||(l?"#8B0000":"#bc8000"),o=(null==a?void 0:a.trunkColor)||(l?"#8B5A2B":"#654321"),r=(null==a?void 0:a.foliageColor)||"#228B22",n=(null==a?void 0:a.leafColors)||["#7ada7a","#ffe335","#f6ffa7","#fb6c37","#228B22","#229B22"];t.save(),t.translate(e/2,i/2);const h=.2*i,c=e*(l?.4:.5),d=i*(l?.4:.25),f=e*(l?.08:.1),m=i/2-h-d-(l?5:15);if(t.fillStyle=s,t.beginPath(),t.rect(-c/2,i/2-h-5,c,h),t.fill(),t.strokeStyle=l?"black":"rgba(133,73,0,0.66)",t.lineWidth=l?1:2,t.stroke(),t.fillStyle=o,t.beginPath(),t.rect(-f/2,l?m:i/2-h-d-5,f,d),t.fill(),t.strokeStyle="rgba(133,73,0,0.66)",t.stroke(),l){const i=.35*e,a=.12*e,l=[-60,-30,0,30,60,90];t.strokeStyle="rgb(172,188,0)",t.translate(0,m);for(let e=0;e<6;e++)t.save(),t.fillStyle=n[e],t.rotate(l[e]*Math.PI/180),t.beginPath(),t.ellipse(0,0,i,a,0,0,2*Math.PI),t.fill(),t.stroke(),t.restore()}else{t.fillStyle=r,t.strokeStyle="rgba(99,213,99,0.51)";const a=[.25*i,.42*i,.67*i],l=[.3*e,.45*e,.6*e];let s=m;for(let e=0;e<3;e++)t.beginPath(),t.moveTo(0,s-5),t.lineTo(-l[e]/2,s-a[e]-3*e),t.lineTo(l[e]/2,s-a[e]+3*e+e),t.closePath(),t.fill(),t.stroke(),s+=.9*a[e]}t.restore()}(this.context,this.width,this.height,r({type:"D"===i?"palm":"yolk"},null==(e=Q[t])?void 0:e[m.type]))}),e.obstacles.push(a(m))),["A","a"].includes(i)&&(m.collected=!1,m.isVisible="A"===i,m.color="rgba(0, 0, 0, 0)",m.visibilityTime=0,m.update=function(t){this.visibilityTime<=0?(this.collected=!1,this.visibilityTime=0):this.visibilityTime-=t},m.render=function(){var e;!function(t,e,i,a={}){const{fishColor:l="rgb(60, 120, 255)"}=a;t.save(),t.translate(e/2,i/2);const s=.9*e,o=.5*i;t.fillStyle=l,t.beginPath(),t.ellipse(0,0,s/2,o/2,0,0,2*Math.PI),t.fill(),t.strokeStyle="rgb(0,0,0)",t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(s/2,0),t.lineTo(s/3+.5*s,.6*o),t.lineTo(s/3+.5*s,.6*-o),t.closePath(),t.fill(),t.strokeStyle="rgb(0,0,0)",t.lineWidth=1,t.stroke(),t.restore()}(this.context,this.width,this.height,r({},null==(e=Q[t])?void 0:e[m.type]))},e.collectables.push(a(m))),"B"===i){m.boundaryLeft=m.spawnX-12*l,m.boundaryRight=m.spawnX+12*l,m.canDie=!0,m.collisionDamage=15,m.decisionInterval=2,m.decisionTimer=0,m.facingRight=!1,m.health=10,m.isAlive=!0,m.isDead=!1,m.isJumping=!1,m.isMonster=!0,m.jumpForce=-350,m.lifeSpan=15,m.maxTrashItems=2,m.moveSpeed=300,m.onGround=!0,m.spawnX=d*l,m.spawnY=c*l,m.trashTimer=0,m.trashCooldown=10,m.velocityX=0,m.velocityY=0,m.scale=3,m.width=36,m.height=36,m.isActivated=!1,m.dt=0,m.o=e,m.s=a,m=r(r({},m),h[t]),m.update=function(e){var i;this.isAlive&&(function(t,e){t.isActivated||(Math.abs(e.white.x-t.x)<=200&&Math.abs(e.white.y-t.y)<=100||Math.abs(e.black.x-t.x)<=200&&Math.abs(e.black.y-t.y)<=100)&&(t.isActivated=!0)}(this,this.o),this.isActivated&&(L(this,e),this.onGround||(this.velocityY+=k*e),N(this,e,this.canJump),(i=this).x<i.boundaryLeft?(i.x=i.boundaryLeft,i.velocityX=i.moveSpeed,i.facingRight=!0):i.x>i.boundaryRight&&(i.x=i.boundaryRight,i.velocityX=-i.moveSpeed,i.facingRight=!1),this.trashTimer+=e,this.trashTimer>=this.trashCooldown&&(o[t](this.x,this.y,this.o,this.s,-100),this.trashTimer=0),this.x+=this.velocityX*e,this.y+=this.velocityY*e))};const i=s[m.type][t];m.render=function(){var e;i(this,n(r({},null==(e=Q[t])?void 0:e[m.type]),{scale:this.sizeMultiplier,flipX:!this.facingRight,frameIndex:this.frame}))},e.enemies.push(a(m))}["E"].includes(i)&&o[t](m.x,m.y,e,a,-100),"P"===i&&A(m.x,m.y,e,a,-100)})}),e}({gameObjects:e.gameObjects,levelMap:(o=$[t],o.map(t=>t.replace(/(\D)(\d*)/g,(t,e,i)=>e.repeat(i?+i:1)))),selectedLevel:t,Sprite:a})),(null==e?void 0:e.GameState)&&(e.GameState.camera.levelBounds={minX:0,maxX:s.level.levelWidth-800,minY:0,maxY:s.level.levelHeight-400}),(null==e?void 0:e.PlayerState)&&Object.assign(e.PlayerState,tt),e.gameObjects.keyboard=(K.pressed={},K.released={},window.keyboardInitialized||(window.addEventListener("keydown",t=>{q[t.code]=!0,K.pressed[t.code]&&K.pressed[t.code].forEach(e=>e(t))}),window.addEventListener("keyup",t=>{q[t.code]=!1,K.released[t.code]&&K.released[t.code].forEach(e=>e(t))}),window.keyboardInitialized=!0),{bindKey:H,unbindKey:J,isKeyPressed:U}),e.gameObjects.level=s.level,{gameObjects:e.gameObjects,PlayerState:e.PlayerState,GameState:e.GameState}}({selectedLevel:t,gameStates:e,kontra:i})}class at{constructor({update:t,render:e}){var i;o(this,"symbol"!=typeof(i="loop")?i+"":i,t=>{const e=(t-this.lastTime)/1e3;this.lastTime=t,this.update(Math.min(e,.1)),this.render(),requestAnimationFrame(this.loop)}),this.lastTime=0,this.update=t,this.render=e}start(){this.lastTime=performance.now(),requestAnimationFrame(this.loop)}}function lt(t,e){const i=e=>{"Space"===e.code&&(t.input.space=!0)};document.addEventListener("keydown",i),document.addEventListener("keyup",e=>{"Space"===e.code&&(t.input.space=!1,document.removeEventListener("keydown",i))})}function st({redirectScreen:t,gameStates:e},i){const{gameObjects:a,GameState:l,PlayerState:s}=e;l.input.space&&(l.input.space=!1,Object.assign(s,{activeCat:"white",white:{lives:10,size:1},black:{lives:10,size:1}}),it({gameObjects:a,PlayerState:s,GameState:l},{},{},i),l.currentState=t,l.nextLevel=t)}function ot(t,e,i){e.fillStyle="black",e.fillRect(0,0,800,400),e.fillStyle="white",e.font="30px Arial",e.fillText("JS13K 2025: Meow & Shadow",400,170);let a="";switch(i){case"victoryWhite":a="You have won! White cat took all the Glory!";break;case"victoryBlack":a="You have won! Black cat took all the Glory!";break;default:a="Game Over :("}e.fillText(a,400,230),e.fillText("Hit space to start over",400,260)}const rt={[E.LEVEL1]:{layers:[{speed:1,alpha:1},{speed:1,alpha:1},{speed:1,alpha:1}],tileSize:390,patterns:[{style:"stripes",tileSize:390,bgColor:"rgba(115,65,0,0.85)",fgColor:"rgb(255,228,116)",accentColor:"rgb(244,244,244)",scale:2},{scale:2,tileSize:390,style:"stripes",bgColor:"rgba(255,236,156,0.38)",fgColor:"rgba(124,98,0,0.18)",accentColor:"rgb(244,244,244)"},{bgColor:"rgba(255,227,53,0.41)",accentColor:"rgba(255,0,0,0.31)",tileSize:390,scale:3,style:"damask",fgColor:"rgba(246,255,167,0.13)"}]},[E.LEVEL2]:{tileSize:390,layers:[{speed:1,alpha:1},{speed:1,alpha:1},{speed:1,alpha:1}],patterns:[{style:"dots",tileSize:100,bgColor:"rgba(0,45,76,0.66)",fgColor:"rgba(255,255,255,0.66)",accentColor:"rgba(0,45,76,0.66)",scale:15},{scale:45,tileSize:100,style:"damask",bgColor:"rgba(0,17,25,0.66)",fgColor:"rgba(0,17,25,0.66)",accentColor:"rgb(255,201,201)"},{bgColor:"rgba(255,227,53,0.11)",accentColor:"rgb(255,227,53)",tileSize:85,scale:30,style:"damask",fgColor:"rgba(255,227,53,0.47)"}]},[E.LEVEL3]:{tileSize:390,layers:[{speed:1,alpha:1},{speed:1,alpha:.7},{speed:1,alpha:.3}],patterns:[{style:"stripes",tileSize:200,bgColor:"rgb(0,0,0)",fgColor:"rgb(2,174,2)",accentColor:"rgb(255,0,0)",scale:.5},{scale:15,tileSize:50,style:"damask",bgColor:"rgb(188,128,0)",fgColor:"rgb(0,0,0)",accentColor:"rgb(22,81,52)"},{bgColor:"rgba(81,47,0,0.78)",accentColor:"rgb(0,0,0)",tileSize:50,scale:2,style:"dots",fgColor:"rgba(117,65,0,0.66)"}]}};!function(){const{canvas:t,context:e}=function(t,{contextless:e=!1}={}){if(m=document.getElementById(t)||t||document.querySelector("canvas"),e&&(m=m||new Proxy({},p)),!m)throw Error("You must provide a canvas element for the game");return g=m.getContext("2d")||new Proxy({},p),g.imageSmoothingEnabled=!1,function(t,...e){(y.init||[]).map(t=>t(...e))}(),{canvas:m,context:g}}(),i=[E.LEVEL1,E.LEVEL2,E.LEVEL3].map(t=>({layers:[{speed:1,alpha:1},{speed:1,alpha:1},{speed:1,alpha:1}],tileSize:390,patternTiles:rt[t].patterns.map(t=>function(t,e={}){const{style:i="damask",tileSize:a=128,bgColor:l="#F5F3EA",fgColor:s="#C9B27D",accentColor:o=null,scale:r=1}=e,n=document.createElement("canvas");n.width=Math.round(a*r),n.height=Math.round(a*r);const h=n.getContext("2d");if(h.fillStyle=l,h.fillRect(0,0,n.width,n.height),h.lineJoin="round",h.lineCap="round","stripes"===i){const t=Math.max(4,Math.round(6*r));h.save(),h.translate(n.width/2,n.height/2),h.rotate(-20*Math.PI/180),h.translate(-n.width/2,-n.height/2),h.fillStyle=s;for(let e=-n.width;e<2*n.width;e+=3*t)h.fillRect(e,-n.height,t,4*n.height);h.restore(),h.globalAlpha=.08,h.fillStyle=s;for(let e=0;e<30;e++)h.beginPath(),h.arc(Math.random()*n.width,Math.random()*n.height,4*Math.random()*r,0,2*Math.PI),h.fill();h.globalAlpha=1}else if("dots"===i){const t=Math.round(24*r),e=Math.round(4*r);h.fillStyle=s;for(let i=0;i<n.height+t;i+=t)for(let a=0;a<n.width+t;a+=t){const l=i/t%2?t/2:0;h.beginPath(),h.arc((a+l)%n.width,i%n.height,e,0,2*Math.PI),h.fill()}if(o){h.globalAlpha=.12,h.fillStyle=o;for(let t=0;t<12;t++)h.beginPath(),h.arc(Math.random()*n.width,Math.random()*n.height,6*Math.random()*r,0,2*Math.PI),h.fill();h.globalAlpha=1}}else{const t=n.width,e=n.height,i=(t,e,i,a,l=0)=>{h.save(),h.translate(t,e),h.rotate(l),h.beginPath(),h.ellipse(0,-a/2,i,a,0,0,2*Math.PI),h.fill(),h.restore()};h.fillStyle=s;const a=t/2,l=e/2;i(a,l,.12*t,.28*e,0),i(a,l,.12*t,.28*e,Math.PI/2),i(a,l,.12*t,.28*e,Math.PI/4),i(a,l,.12*t,.28*e,-Math.PI/4),h.beginPath(),h.arc(a,l,Math.round(6*r),0,2*Math.PI),h.fill();const c=Math.round(8*r);[[-t/3,-e/3],[t/3,-e/3],[-t/3,e/3],[t/3,e/3]].forEach(([s,o])=>{i(a+s,l+o,.08*t,.18*e,Math.PI/6),h.beginPath(),h.arc(a+s,l+o,c,0,2*Math.PI),h.fill()}),o&&(h.globalAlpha=.12,h.fillStyle=o,h.beginPath(),h.ellipse(a,l-.06*e,.18*t,.08*e,0,0,2*Math.PI),h.fill(),h.globalAlpha=1),h.strokeStyle="rgba(0,0,0,0.06)",h.lineWidth=Math.max(1,Math.round(1*r)),h.beginPath(),h.ellipse(a,l,.12*t,.12*e,0,0,2*Math.PI),h.stroke()}return t.createPattern(n,"repeat")}(e,t))})),{gameObjects:a,GameState:l,PlayerState:s}=it(E.LEVEL1,{gameObjects:{},PlayerState:tt,GameState:et},{Sprite:T,canvas:t},i);document.addEventListener("keyup",t=>{"KeyM"===t.code&&(l.musicEnabled=!l.musicEnabled),"KeyP"===t.code&&(l.paused=!l.paused)}),new at({update:o=>function(t,e,i,a,l,s,o,r){return n=this,h=arguments,c=function*(t,{GameState:e,PlayerState:i},a,l,s,o,r,n){switch(e.currentState){case E.LEVEL1:case E.LEVEL2:case E.LEVEL3:e.paused||function({gameStates:t,kontra:e},i){const{gameObjects:a,GameState:l,PlayerState:s}=t,{Sprite:o,canvas:r,context:n,deltaTime:h,collides:c}=e,{keyboard:d}=a;void 0===s.activeCharacter&&(s.activeCharacter="white"),(d.isKeyPressed("ShiftLeft")||d.isKeyPressed("ShiftRight"))&&(!s.lastShiftTime||Date.now()-s.lastShiftTime>300)&&(s.activeCharacter="white"===s.activeCharacter?"black":"white",s.lastShiftTime=Date.now());const f="white"===s.activeCharacter?a.white:a.black;var m,g,u,y;[a.white,a.black,...a.pink?[a.pink]:[]].forEach(t=>{var e,i,o,r;t.update(h),i=h,(e=t).onGround||(e.velocityY+=e.velocityY<0?1200*i:k*i,e.velocityY>800&&(e.velocityY=800)),e.y+=e.velocityY*i,e.y<20&&(e.y=20,e.velocityY=0),o=t,r={PlayerState:s},a.enemies.forEach(t=>{var e,i,a;(i=o).x<(a=t).x+a.width&&i.x+i.width>a.x&&i.y<a.y+a.height&&i.y+i.height>a.y&&("E"!==t.type&&"P"!==t.type&&"B"!==t.type||["P","B","E"].includes(t.type)&&t.isMonster&&o.dvl<=0&&(o.health-=null!=(e=null==t?void 0:t.collisionDamage)?e:1,o.dvl=2,o.health<=0&&(r.PlayerState[o.color].lives>0?(r.PlayerState[o.color].lives=r.PlayerState[o.color].lives-1,o.health=100):o.isAlive=!1)))}),function(t,e,i,a,l){t.onGround=!1,e.forEach(e=>{var i;if(l(t,e)){if("X"===e.type&&"white"===t.color&&t.sizeMultiplier>1)return e.isVisible=!1,void(e.collision=!1);if(Math.min(t.x+t.width-e.x,e.x+e.width-t.x)<Math.min(t.y+t.height-e.y,e.y+e.height-t.y)?(t.x=t.x<e.x?e.x-t.width:e.x+e.width,t.velocityX=0):t.y<e.y?(t.y=e.y-t.height,t.velocityY=0,t.onGround=!0,t.isJumping=!1):(t.y=e.y+e.height,t.velocityY=0),"Y"===e.type&&"pink"!==t.color){const e=Object.values(E).findIndex(t=>t===a.currentState),l=null==(i=Object.keys(E))?void 0:i[e+1];a.nextLevel=(null==E?void 0:E[l])===E.GAMEOVER?"white"===t.color?E.VICTORYWHITE:E.VICTORYBLACK:null==E?void 0:E[l]}}}),t.y<=10&&(t.y=10,t.velocityY=0)}(t,[...a.obstacles.filter(({isVisible:t,collides:e})=>t&&e),...a.enemies.filter(({isVisible:t,collides:e})=>t&&e)],0,l,c),function(t,e,i){for(let a=0;a<e.length;a++){const l=e[a],s="white"===t.color?t.sizeMultiplier>=t.maxSizeMultiplier:t.attackMultiplier>=t.maxAttackMultiplier;l.collected||s||!i(t,l)||l.collected||s||("white"===t.color?Z(t):(t.attackMultiplier=Math.min(t.maxAttackMultiplier,t.attackMultiplier*(t.attackMultiplier+1)),t.attackRange=t.originalAttackRange*t.attackMultiplier),l.collected=!0,l.visibilityTime=10)}}(t,a.collectables.filter(({collected:t,isVisible:e})=>!t&&e),c)}),a.enemies.forEach(t=>{var e,i,l;t.update(h),e=[...a.obstacles.filter(({collides:t,isVisible:e})=>t&&e),...a.enemies.filter(({collides:t,isVisible:e})=>t&&e)],i=t,l=c,e.forEach(t=>{l(t,i)&&(i.y+i.height>t.y&&i.y+i.height<t.y+t.height/2?(i.y=t.y-i.height,i.velocityY=0,i.onGround=!0):i.velocityX>0&&i.x+i.width>t.x&&i.x<t.x?(i.x=t.x-i.width,i.facingRight=!1,i.velocityX*=-1):i.velocityX<0&&i.x<t.x+t.width&&i.x+i.width>t.x+t.width&&(i.x=t.x+t.width,i.facingRight=!0,i.velocityX*=-1))})}),a.collectables.forEach(t=>{t.update(h)}),g=a,u=h,(m=f).isAttacking&&(m.attackTimer-=u,null==(y=g.enemies)||y.forEach((t,e)=>{let i=!1;i=m.facingRight?t.x>=m.x+m.width&&t.x<=m.x+m.width+m.attackRange&&t.y+t.height>=m.y&&t.y<=m.y+m.height:t.x+t.width>=m.x-m.attackRange&&t.x<=m.x&&t.y+t.height>=m.y&&t.y<=m.y+m.height,i&&t.isMonster&&(t.health-=m.attackDamage,t.health<=0&&(t.isAlive=!1,t.isDead=t.canDie),t.isDead&&"B"===t.type&&[...g.obstacles,...g.collectables].forEach(t=>{["f","a"].includes(t.type)&&(t.isVisible=!0)}))}),m.attackTimer<=0&&(m.isAttacking=!1)),m.canAttack||(m.attackCooldownTimer-=u,m.attackCooldownTimer<=0&&(m.canAttack=!0)),(d.isKeyPressed("KeyW")||d.isKeyPressed("ArrowUp"))&&f.onGround&&(f.velocityY=f.jumpForce||-550,f.isJumping=!0,f.onGround=!1);const p=f.moveSpeed||200;if((d.isKeyPressed("KeyA")||d.isKeyPressed("ArrowLeft"))&&(f.x-=p*h,f.facingRight=!1,f.isMoving=!0),(d.isKeyPressed("KeyD")||d.isKeyPressed("ArrowRight"))&&(f.x+=p*h,f.facingRight=!0,f.isMoving=!0),d.isKeyPressed("KeyA")||d.isKeyPressed("KeyD")||d.isKeyPressed("ArrowLeft")||d.isKeyPressed("ArrowRight")||(f.isMoving=!1),d.isKeyPressed("Space")){if("white"===s.activeCharacter&&f.sizeMultiplier>1&&!f.poopCooldown){const t=f.y+7.75;f.sizeMultiplier=Math.max(1,f.sizeMultiplier-.25),f.width=f.originalWidth*f.sizeMultiplier,f.height=f.originalHeight*f.sizeMultiplier,f.y=t,f.jumpForce=f.originalJumpForce*(1/(1+.5*(f.sizeMultiplier-1))),f.moveSpeed=f.originalMoveSpeed*(1/(1+.4*(f.sizeMultiplier-1))),f.poopCooldown=!0,f.isPooping=!0,A(f.facingRight?f.x-10:f.x+f.width-13,t+f.width/2,a,o),setTimeout(()=>{f.poopCooldown=!1,f.isPooping=!1,f.width=f.originalWidth*f.sizeMultiplier,f.height=f.originalHeight*f.sizeMultiplier},1e3)}"black"===s.activeCharacter&&!f.isAttacking&&f.canAttack&&(f.isAttacking=!0,f.attackTimer=f.attackDuration,f.canAttack=!1,f.attackCooldownTimer=f.attackCooldown)}a.white.x=Math.max(0,Math.min(a.white.x,7*r.width-a.white.width)),a.black.x=Math.max(0,Math.min(a.black.x,7*r.width-a.black.width)),function(t,e){t.camera.x+=.1*(e.x-t.camera.width/2+e.width/2-t.camera.x),t.camera.x=Math.max(t.camera.levelBounds.minX,Math.min(t.camera.x,t.camera.levelBounds.maxX))}(l,f),a.enemies=a.enemies.filter(({isDead:t})=>!t),a.white.isAlive&&a.black.isAlive||(l.nextLevel=E.GAMEOVER),l.nextLevel!==l.currentState&&function(t,{GameState:e,gameObjects:i},{Sprite:a,canvas:l},s){if([E.LEVEL1,E.LEVEL2,E.LEVEL3].includes(t)){const e=it(t,{gameObjects:i},{Sprite:a,canvas:l},s);Object.assign(i,e.gameObjects)}e.currentState=t}(l.nextLevel,{GameState:l,gameObjects:a,PlayerState:s},{Sprite:o,canvas:r,context:n},i)}({gameStates:{gameObjects:t,GameState:e,PlayerState:i},kontra:{canvas:a,context:l,deltaTime:s,Sprite:o,collides:r}},n);break;case E.MENU:lt(e),st({redirectScreen:e.currentState===E.MENU?E.LEVEL1:E.MENU,gameStates:{gameObjects:t,GameState:e,PlayerState:i},kontra:{Sprite:o,canvas:a}},n);break;case E.GAMEOVER:case E.VICTORYBLACK:case E.VICTORYWHITE:lt(e),st({redirectScreen:e.currentState===E.MENU?E.LEVEL1:E.MENU,gameStates:{gameObjects:t,GameState:e,PlayerState:i},kontra:{Sprite:o,canvas:a}}),t.black=null,t.white=null,t.exit=null,t.start=null,t.keyboard={},t.backgrounds={},t.level={},t.obstacles=[],t.collectables=[],t.enemies=[],t.effects=[];const h=it(E.LEVEL1,{gameObjects:{}},{Sprite:o,canvas:a},n);Object.assign(t,h.gameObjects),Object.assign(i,h.PlayerState)}},new Promise((t,e)=>{var i=t=>{try{l(c.next(t))}catch(i){e(i)}},a=t=>{try{l(c.throw(t))}catch(i){e(i)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);l((c=c.apply(n,h)).next())});var n,h,c}(a,{GameState:l,PlayerState:s},t,e,o,T,d,i),render:()=>function(t,{GameState:e,PlayerState:i},a,l,s){switch(e.currentState){case E.MENU:!function(t,e){const i=t.width,a=t.height;e.fillStyle="black",e.fillRect(0,0,i,a),e.fillStyle="white",e.font="30px Arial",e.textAlign="center",e.fillText("Meoq & Shadow",i/2+5,a/2-60),e.fillStyle="#ffffff",e.font="25px Arial",e.fillText("Press Space to start",i/2,a/2+25),e.font="15px Arial",e.fillText("Move: A & D, jump: W, switch cat: Left Shift",i/2,a/2+55),e.fillText("poop (Meoq): Space, attack (Shadow): Space",i/2,a/2+78),e.font="18px Arial",e.fillText("JS13K GAME 2025",i/2,a/2+110),e.font="15px Arial",e.fillText("created by hostmepanda",i/2,a/2+135),e.font="12px Arial",e.fillStyle="#66ccff",e.fillText("(github.com/hostmepanda)",i/2,a/2+155)}(a,l);break;case E.LEVEL1:case E.LEVEL2:case E.LEVEL3:if(e.paused)l.beginPath(),l.fillStyle="rgba(0,0,0,0.47)",l.rect(a.width/2-100,a.height/2-50,200,50),l.fill(),l.beginPath(),l.fillStyle="white"===i.activeCharacter?"rgba(255,255,255)":"rgb(0,0,0)",l.rect(a.width/2-98,a.height/2-48,198,48),l.fill(),l.fillStyle="white"===i.activeCharacter?"black":"white",l.font="20px Arial",l.textAlign="center",l.fillText("PAUSED",a.width/2,a.height/2-28),l.font="15px Arial",l.fillText("Press P to continue",a.width/2,a.height/2-8);else{let o;e.currentState===E.LEVEL1?o=s[0]:e.currentState===E.LEVEL2?o=s[1]:e.currentState===E.LEVEL3&&(o=s[2]),function({gameData:t,kontra:e},i){const{PlayerState:a,GameState:l,gameObjects:s}=t,{canvas:o,context:r}=e;var n,h,c;r.clearRect(0,0,o.width,o.height),function(t,e,i,a=0,l=0,s){t.save(),s.layers.forEach((o,r)=>{const n=-a*o.speed,h=-l*o.speed;t.globalAlpha=o.alpha,t.setTransform(1,0,0,1,0,0),t.translate(n,h),t.fillStyle=s.patternTiles[r],t.fillRect(-n,-h,e+s.tileSize,i+s.tileSize)}),t.setTransform(1,0,0,1,0,0),t.globalAlpha=1,t.restore()}(r,l.camera.width,l.camera.height,l.camera.x,l.camera.y,i),h=l.camera,c=()=>{if([...s.collectables.filter(({isVisible:t,collected:e})=>t&&!e),...s.obstacles.filter(t=>t.isVisible),...s.enemies,s.white,s.black,...(null==s?void 0:s.pink)?[s.pink]:[]].forEach(t=>{var e;return null==(e=t.render)?void 0:e.call(t)}),s.black.isAttacking){r.fillStyle="rgba(255,255,255)";const t=s.black.y+s.black.width/2;r.beginPath(),s.black.facingRight?r.arc(s.black.x+s.black.width,t,s.black.attackRange,Math.PI/2,-Math.PI/2,!0):r.arc(s.black.x,t,s.black.attackRange,-Math.PI/2,Math.PI/2,!0),r.closePath(),r.fill()}},(n=r).save(),n.translate(-h.x,-h.y),c(),n.restore(),function({context:t},{playerState:e}){t.save();const i=t.canvas.width;t.fillStyle="black",t.fillRect(0,0,i,40),t.fillStyle="#333",t.fillRect(5,5,i-10,30),t.lineWidth=2,t.strokeStyle="#FFD700",t.fillStyle="rgb(246,255,167)",t.fillRect(4,4,i-10,30);const a=i/3-60;var l;t.textAlign="left",t.textBaseline="middle",t.font="bold 12px monospace",t.fillStyle="#FF8C00",t.fillText("LEVEL: "+(((l=e.currentLevel)===E.LEVEL1?"HOME":l===E.LEVEL2?"CITY":l===E.LEVEL3?"SEWER":void 0)||"SECRET"),20,20);const s=e.cats||[];if(s.length>=2){const e=s[0],i=a+10;t.fillStyle=e.isActive?"#165134":"#a1a1a1";const l=`${e.name}: ${e.lives||0}/10`;t.fillText(l,i,20);const o=t.measureText(l).width,r=15,n=a-o-30,h=10;X(t,i+o+10,r,n,h,(e.health||0)/100),e.isActive&&0==Math.floor(Date.now()/500)%2&&(t.fillStyle="#165134",t.fillText("",i-15,19));const c=s[1],d=2*a+40;t.fillStyle=c.isActive?"#165134":"#afafaf";const f=`${c.name}: ${c.lives||0}/10`;t.fillText(f,d,20);const m=t.measureText(f).width;X(t,d+m+10,r,n,h,(c.health||0)/100),c.isActive&&0==Math.floor(Date.now()/500)%2&&(t.fillStyle="#165134",t.fillText("",d-15,19)),t.fillStyle="#000000"}t.restore()}({context:r,canvas:o},{playerState:{currentLevel:l.currentState,cats:[{name:"Meoq",health:s.white.health,lives:a.white.lives,isActive:"white"===a.activeCharacter},{name:"Shadow",health:s.black.health,lives:a.black.lives,isActive:"black"===a.activeCharacter}]},GameState:l})}({gameData:{gameObjects:t,GameState:e,PlayerState:i},kontra:{canvas:a,context:l}},o)}break;case E.GAMEOVER:ot(0,ctx,"gameOver");break;case E.VICTORYBLACK:ot(0,l,"victoryBlack");break;case E.VICTORYWHITE:ot(0,l,"victoryWhite")}}(a,{GameState:l,PlayerState:s},t,e,i)}).start()}();

</script>
</body>
</html>
